import jsong from 'falcor-json-graph';

const $ref = jsong.ref;
const $atom = jsong.atom;
const $pathValue = jsong.pathValue;
const $pathInvalidation = jsong.pathInvalidation;

export function SectionRoutes() {
    const quarters = getQuarters();
    const sections = getSections();
    return [{
        route: `quarters`,
        get() {
            return [
                $pathValue(['quarters', $atom(quarters)])
            ];
        }
    }, {
        route: `sections.length`,
        get() {
            return [
                $pathValue(['sections', 'length'], $atom(sections.length))
            ];
        }
    }, {
        route: `sections[{integers:sectionIndexes}].title`,
        get({ sectionIndexes }) {
            return sectionIndexes.map((sectionIndex) => {
                const section = sections[sectionIndex];
                return $pathValue(
                    ['sections', sectionIndex, 'title'],
                    $atom(section.title)
                );
            });
        }
    }, {
        route: `sections[{integers:sectionIndexes}].series.length`,
        get({sectionIndexes}) {
            return sectionIndexes.map((sectionIndex) => {
                const section = sections[sectionIndex];
                const sectionSeries = section.series;
                return $pathValue(
                    ['sections', sectionIndex, 'series', 'length'],
                    $atom(sectionSeries.length)
                );
            });
        }
    }, {
        route: `sections[{integers:sectionIndexes}].series[{integers:seriesIndexes}][{keys:seriesKeys}]`,
        get({ sectionIndexes, seriesIndexes, seriesKeys }) {
            return sectionIndexes.reduce((pathValues, sectionIndex) => {
                const section = sections[sectionIndex];
                const sectionSeries = section.series;
                return seriesIndexes.reduce((pathValues, seriesIndex) => {
                    const series = sectionSeries[seriesIndex];
                    return seriesKeys.reduce((pathValues, seriesKey) => {
                        return pathValues.concat($pathValue(
                            ['sections', sectionIndex, 'series', seriesIndex, seriesKey],
                            $atom(series[seriesKey])
                        ));
                    }, pathValues);
                }, pathValues);
            }, []);
        },
        set(jsonGraphFragment) {

            const pathValues = [];
            const jsongSections = jsonGraphFragment.sections;

            for (const sectionIndex in jsongSections) {

                const section = sections[sectionIndex];
                const sectionSeries = section.series;

                const jsongSection = jsongSections[sectionIndex];
                const jsongSectionSeries = jsongSection.series;

                for (const seriesIndex in jsongSectionSeries) {

                    const series = sectionSeries[seriesIndex];
                    const jsongSeries = jsongSectionSeries[seriesIndex];

                    for (const seriesKey in jsongSeries) {

                        const seriesValue = jsongSeries[seriesKey];
                        series[seriesKey] = seriesValue;

                        pathValues.push($pathValue(
                            ['sections', sectionIndex, 'series', seriesIndex, seriesKey],
                            seriesValue
                        ));
                    }
                }
            }

            return pathValues;
        }
    }];
}

function getQuarters() {
    return [
                    "Jun 2004", "Sep 2004", "Dec 2004",
        "Mar 2005", "Jun 2005", "Sep 2005", "Dec 2005",
        "Mar 2006", "Jun 2006", "Sep 2006", "Dec 2006",
        "Mar 2007", "Jun 2007", "Sep 2007", "Dec 2007",
        "Mar 2008", "Jun 2008", "Sep 2008", "Dec 2008",
        "Mar 2009", "Jun 2009", "Sep 2009", "Dec 2009",
        "Mar 2010", "Jun 2010", "Sep 2010", "Dec 2010",
        "Mar 2011", "Jun 2011"
    ];
}

function getSections() {
    return [{
        title: "All Banks",
        series: [{
            title: "Net Interest Income",
            values: [
                "7152", "7305", "7502", "7528", "7656", "8153", "8175", "8099", "8715", "9498", "9738", "9446", "10054", "9916", "10363", "11261", "10458", "11694", "12956", "12884", "13691", "13567", "13980", "13070", "13528", "13631", "14154", "14431", "14741", "54145", "56957"
            ]
        }, {
            title: "Other Operating Income",
            values: [
                "7128", "7090", "8488", "9833", "8649", "8784", "8215", "9464", "7913", "9193", "8790", "9254", "10931", "11464", "10276", "9611", "9290", "7519", "11050", "9843", "8327", "8780", "9463", "8665", "10793", "9318", "9342", "6767", "6287", "37701", "31714"
            ]
        }, {
            title: "Total Operating Income",
            values: [
                "14280", "14395", "15990", "17361", "16305", "16937", "16390", "17563", "16628", "18691", "18528", "18699", "20985", "21380", "20639", "20873", "19749", "19213", "24005", "22727", "22018", "22347", "23443", "21735", "24322", "22949", "23496", "21198", "21027", "91847", "88670"
            ]
        }, {
            title: "Operating Expenses",
            values: [
                "8045", "8598", "8730", "9877", "8710", "8986", "9196", "9004", "9466", "1,167", "9899", "9645", "12180", "11866", "12218", "12435", "11149", "12648", "13088", "12298", "11163", "11699", "12106", "12740", "12365", "13210", "12629", "10319", "10791", "48910", "46949"
            ]
        }, {
            title: "Net Profit (Loss) After Tax",
            values: [
                "4006", "2844", "4528", "4927", "4807", "4348", "4484", "4798", "4610", "5896", "4974", "5517", "5669", "6111", "5807", "5753", "5373", "3241", "4534", "5087", "4678", "2165", "5801", "4596", "6781", "5939", "6585", "7535", "6205", "19343", "26264"
            ]
        }, {
            title: "Total Assets",
            values: [
                "1651964", "1667151", "1740907", "1730311", "1778994", "1823069", "1885060", "1992235", "2041979", "2106271", "2199870", "2270984", "2409112", "2596709", "2690459", "2788207", "2839116", "3056247", "3276739", "3148679", "3084488", "3034841", "3086238", "3082367", "3203181", "3186130", "3200546", "3196415", "3268940", "3203181", "3268940"
            ]
        }, {
            title: "Total Shareholders' Equity",
            values: [
                "106784", "110516", "111981", "115621", "117940", "121803", "122039", "123073", "127670", "112325", "115489", "126333", "129922", "132554", "136933", "139421", "140011", "145194", "156332", "164751", "166101", "172289", "176714", "177893", "184181", "184204", "185085", "179157", "182257", "184181", "182257"
            ]
        }, {
            title: "Return on Assets (After Tax)",
            values: [
                "1.0", "0.7", "1.1", "1.1", "1.1", "1.0", "1.0", "1.0", "0.9", "1.1", "0.9", "1.0", "1.0", "1.0", "0.9", "0.8", "0.8", "0.4", "0.6", "0.6", "0.6", "0.3", "0.8", "0.6", "0.9", "0.7", "0.8", "0.9", "0.8", "0.6", "0.8"
            ]
        }, {
            title: "Return on Equity (After Tax)",
            values: [
                "14.2", "10.6", "16.0", "16.5", "16.0", "14.2", "14.9", "14.9", "14.4", "19.5", "17.8", "17.5", "17.3", "18.2", "16.9", "16.4", "15.3", "10.1", "14.4", "11.9", "10.6", "4.5", "14.5", "10.0", "15.3", "12.8", "13.6", "16.2", "13.6", "11.2", "14.0"
            ]
        }]
    }, {
        title: "Major Banks",
        series: [{
            title: "Net Interest Income",
            values: [
                "5733", "5840", "5990", "5957", "6109", "6415", "6484", "6519", "6794", "7765", "7410", "7404", "7544", "7800", "7889", "8358", "8493", "9025", "10889", "10792", "11565", "11620", "11882", "10817", "11579", "11533", "11877", "12082", "12380", "45898", "47872"
            ]
        }, {
            title: "Other Operating Income",
            values: [
                "4459", "4303", "4997", "6823", "4951", "6043", "4992", "5892", "4465", "5115", "5131", "5093", "5021", "5662", "4698", "4838", "4590", "2981", "7650", "5352", "4114", "4610", "5917", "4581", "5875", "5027", "5331", "5256", "4734", "20983", "20348"
            ]
        }, {
            title: "Total Operating Income",
            values: [
                "10192", "10143", "10987", "12780", "11060", "12459", "11475", "12411", "11259", "12880", "12542", "12497", "12565", "13462", "12588", "13196", "13082", "12006", "18539", "16143", "15680", "16229", "17799", "15399", "17454", "16560", "17208", "17338", "17113", "66881", "68219"
            ]
        }, {
            title: "Operating Expenses",
            values: [
                "5493", "5642", "5430", "6945", "5337", "6223", "5574", "5514", "6091", "6145", "5953", "5343", "6203", "6063", "6077", "6348", "6486", "6751", "8349", "7763", "6883", "7387", "7641", "7979", "7494", "8158", "7953", "8085", "8170", "30501", "32366"
            ]
        }, {
            title: "Net Profit (Loss) After Tax",
            values: [
                "2941", "2164", "3412", "3856", "3583", "3309", "3607", "3577", "3333", "4393", "3781", "4355", "3821", "4684", "4447", "5039", "4193", "2676", "5118", "4274", "3625", "1308", "5636", "4019", "5810", "5400", "5623", "6741", "5537", "16773", "23301"
            ]
        }, {
            title: "Total Assets",
            values: [
                "1216802", "1227812", "1280805", "1262660", "1296095", "1317307", "1361200", "1419248", "1442226", "1488894", "1550158", "1573362", "1647101", "1737908", "1809735", "1881328", "1901487", "2064499", "2443386", "2362305", "2328482", "2318470", "2379508", "2374273", "2485507", "2464144", "2468265", "2484230", "2553574", "2485507", "2553574"
            ]
        }, {
            title: "Total Shareholders' Equity",
            values: [
                "87018", "88584", "89170", "92244", "93564", "96747", "96797", "97857", "10,905", "85247", "87061", "89877", "92091", "93273", "97270", "99797", "99948", "104229", "126250", "133075", "134110", "138694", "142156", "141972", "146985", "146496", "146956", "151490", "154162", "146985", "154162"
            ]
        }, {
            title: "Return on Assets (After Tax)",
            values: [
                "1.0", "0.7", "1.1", "1.2", "1.1", "1.0", "1.1", "1.0", "0.9", "1.2", "1.0", "1.1", "0.9", "1.1", "1.0", "1.1", "0.9", "0.5", "0.9", "0.7", "0.6", "0.2", "1.0", "0.7", "1.0", "0.9", "0.9", "1.1", "0.9", "0.7", "0.9"
            ]
        }, {
            title: "Return on Equity (After Tax)",
            values: [
                "13.7", "9.9", "15.4", "17.0", "15.4", "13.9", "14.9", "14.7", "13.4", "18.9", "17.6", "19.7", "16.8", "20.2", "18.7", "20.5", "16.8", "10.5", "17.8", "13.2", "10.9", "3.8", "16.1", "11.3", "16.1", "14.7", "15.3", "18.1", "14.5", "11.9", "15.5"
            ]
        }]
    }, {
        title: "Domestic Banks",
        series: [{
            title: "Net Interest Income",
            values: [
                "854", "893", "924", "943", "931", "967", "901", "1016", "1001", "1101", "1097", "1180", "1309", "1189", "1291", "1195", "1117", "1573", "906", "873", "672", "856", "848", "1055", "852", "966", "1108", "998", "1061", "3611", "4133"
            ]
        }, {
            title: "Other Operating Income",
            values: [
                "1885", "1950", "2701", "2275", "2647", "2294", "2455", "2483", "2880", "2860", "3251", "3069", "5391", "4733", "4635", "3814", "4106", "3614", "3222", "3407", "3363", "3245", "2986", "3286", "4179", "3554", "3122", "1109", "1013", "13696", "8798"
            ]
        }, {
            title: "Total Operating Income",
            values: [
                "2740", "2843", "3625", "3218", "3578", "3261", "3356", "3499", "3882", "3960", "4348", "4249", "6699", "5922", "5925", "5009", "5224", "5188", "4128", "4280", "4035", "4101", "3834", "4341", "5031", "4521", "4230", "2107", "2074", "17307", "12932"
            ]
        }, {
            title: "Operating Expenses",
            values: [
                "1692", "1993", "2235", "2155", "2239", "2099", "2226", "2464", "2367", "2776", "2735", "3068", "4756", "4463", "4579", "4236", "3788", "3786", "3715", "3426", "3095", "3261", "2889", "3886", "3678", "3906", "3387", "1340", "1453", "13714", "10086"
            ]
        }, {
            title: "Net Profit (Loss) After Tax",
            values: [
                "657", "538", "862", "656", "853", "763", "698", "824", "1010", "975", "1151", "732", "1519", "1064", "1019", "404", "1001", "751", "141", "341", "523", "418", "550", "177", "899", "292", "498", "430", "384", "2044", "1604"
            ]
        }, {
            title: "Total Assets",
            values: [
                "187404", "191288", "199900", "203425", "214578", "224334", "237393", "254780", "267861", "270737", "284041", "304227", "344431", "362867", "381372", "391038", "407487", "418635", "298116", "285675", "282485", "282606", "287357", "293703", "303179", "310485", "305318", "283928", "286400", "303179", "286400"
            ]
        }, {
            title: "Total Shareholders' Equity",
            values: [
                "13774", "15533", "16148", "16541", "17328", "17722", "18134", "18382", "19679", "19649", "20657", "28092", "29308", "30344", "30394", "29985", "30204", "30540", "23292", "24745", "24860", "26227", "26935", "28078", "29150", "29428", "29608", "18845", "19030", "29150", "19030"
            ]
        }, {
            title: "Return on Assets (After Tax)",
            values: [
                "1.4", "1.1", "1.8", "1.3", "1.6", "1.4", "1.2", "1.3", "1.5", "1.4", "1.7", "1.0", "1.9", "1.2", "1.1", "0.4", "1.0", "0.7", "0.2", "0.5", "0.7", "0.6", "0.8", "0.2", "1.2", "0.4", "0.6", "0.6", "0.5", "0.7", "0.5"
            ]
        }, {
            title: "Return on Equity (After Tax)",
            values: [
                "19.3", "14.7", "21.8", "16.0", "20.2", "17.4", "15.6", "18.1", "21.2", "19.8", "22.8", "12.0", "21.2", "14.3", "13.4", "05.4", "13.3", "9.9", "2.1", "5.7", "8.4", "6.5", "8.3", "02.6", "12.6", "4.0", "6.8", "7.1", "8.1", "7.6", "6.7"
            ]
        }]
    }, {
        title: "Foreign Subsidiaries",
        series: [{
            title: "Net Interest Income",
            values: [
                "363", "428", "337", "432", "461", "551", "529", "515", "528", "599", "714", "594", "631", "632", "662", "724", "700", "709", "591", "597", "662", "567", "438", "554", "600", "602", "591", "644", "675", "2159", "2512"
            ]
        }, {
            title: "Other Operating Income",
            values: [
                "306", "295", "380", "303", "288", "215", "244", "316", "329", "519", "307", "327", "302", "360", "406", "339", "316", "394", "342", "215", "258", "228", "333", "290", "262", "269", "286", "212", "207", "1113", "974"
            ]
        }, {
            title: "Total Operating Income",
            values: [
                "669", "723", "717", "735", "749", "766", "773", "831", "857", "1119", "1021", "921", "933", "992", "1068", "1063", "1016", "1103", "933", "812", "920", "795", "771", "844", "862", "871", "878", "857", "882", "3272", "3488"
            ]
        }, {
            title: "Operating Expenses",
            values: [
                "407", "437", "487", "464", "411", "400", "481", "529", "567", "505", "666", "595", "575", "625", "689", "694", "677", "700", "569", "441", "473", "425", "415", "429", "438", "461", "495", "432", "433", "1707", "1821"
            ]
        }, {
            title: "Net Profit (Loss) After Tax",
            values: [
                "138", "180", "181", "180", "236", "179", "245", "159", "167", "475", "140", "208", "190", "213", "217", "205", "134", "184", "181", "159", "215", "169", "151", "223", "228", "190", "173", "214", "233", "771", "810"
            ]
        }, {
            title: "Total Assets",
            values: [
                "94937", "97819", "100486", "103469", "106072", "106592", "108239", "113157", "114748", "119688", "123344", "125333", "128675", "139828", "145664", "148938", "155022", "164456", "103500", "103415", "103390", "103404", "103192", "105703", "109092", "110544", "113701", "110227", "111588", "109092", "111588"
            ]
        }, {
            title: "Total Shareholders' Equity",
            values: [
                "5991", "6400", "6663", "6836", "7047", "7333", "7108", "6835", "7086", "7430", "7771", "8365", "8522", "8937", "9269", "9639", "9859", "10425", "6790", "6931", "7131", "7368", "7624", "7843", "8046", "8281", "8521", "8822", "9065", "8046", "9065"
            ]
        }, {
            title: "Return on Assets (After Tax)",
            values: [
                "0.6", "0.7", "0.7", "0.7", "0.9", "0.7", "0.9", "0.6", "0.6", "1.6", "0.5", "0.7", "0.6", "0.6", "0.6", "0.6", "0.4", "0.5", "0.5", "0.6", "0.8", "0.7", "0.6", "0.9", "0.8", "0.7", "0.6", "0.8", "0.8", "0.7", "0.7"
            ]
        }, {
            title: "Return on Equity (After Tax)",
            values: [
                "9.5", "11.6", "11.1", "10.7", "13.6", "9.9", "13.6", "9.1", "9.6", "26.2", "7.4", "10.3", "9.0", "9.8", "9.6", "8.7", "5.5", "7.3", "8.4", "9.3", "12.3", "9.3", "8.1", "11.5", "11.5", "9.3", "8.3", "9.9", "10.4", "10.2", "9.5"
            ]
        }]
    }, {
        title: "Foreign Branches",
        series: [{
            title: "Net Interest Income",
            values: [
                "202", "143", "252", "196", "155", "220", "262", "49", "392", "33", "518", "268", "571", "294", "521", "985", "148", "386", "570", "622", "792", "524", "811", "644", "498", "529", "578", "708", "625", "2477", "2440"
            ]
        }, {
            title: "Other Operating Income",
            values: [
                "478", "542", "409", "431", "763", "231", "524", "773", "238", "699", "100", "765", "217", "710", "537", "620", "279", "530", "-165", "870", "592", "697", "227", "507", "477", "468", "603", "189", "333", "1908", "1593"
            ]
        }, {
            title: "Total Operating Income",
            values: [
                "679", "685", "661", "627", "918", "451", "786", "822", "630", "732", "617", "1033", "788", "1004", "1058", "1605", "427", "916", "405", "1492", "1384", "1221", "1039", "1151", "975", "997", "1181", "897", "958", "4386", "4033"
            ]
        }, {
            title: "Operating Expenses",
            values: [
                "454", "526", "578", "313", "724", "264", "916", "496", "441", "740", "544", "639", "646", "714", "873", "1158", "199", "1412", "455", "667", "712", "625", "1161", "446", "755", "684", "794", "461", "735", "2987", "2674"
            ]
        }, {
            title: "Net Profit (Loss) After Tax",
            values: [
                "270", "-38", "73", "235", "135", "98", "-66", "238", "100", "52", "-98", "223", "139", "150", "124", "105", "44", "-370", "-906", "313", "314", "270", "-537", "177", "-155", "56", "291", "150", "52", "-245", "549"
            ]
        }, {
            title: "Total Assets",
            values: [
                "152821", "150233", "159717", "160757", "162250", "174836", "178228", "205050", "217144", "226953", "242327", "268063", "288906", "356105", "353688", "366903", "375121", "408657", "431738", "397284", "370131", "330361", "316182", "308688", "305403", "300956", "313263", "318030", "317379", "305403", "317379"
            ]
        }]
    }];
}
