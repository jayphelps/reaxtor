{"version":3,"sources":["../src/Event.js"],"names":[],"mappings":";;;;;;;;;;;AAAA;;;;;;;;IAEa,K,WAAA,K;;;AAET,mBAAY,WAAZ,EAAyB,MAAzB,EAAiC;AAAA;;AAAA;;AAE7B,cAAK,MAAL,GAAc,MAAd;AACA,cAAK,WAAL,GAAmB,WAAnB;AAH6B;AAIhC;;;;6BAEI,Q,EAAU;AACX,gBAAM,QAAQ,IAAI,KAAJ,CAAU,KAAK,WAAL,IAAoB,IAA9B,EAAoC,IAApC,CAAd;AACA,kBAAM,QAAN,GAAiB,QAAjB;AACA,mBAAO,KAAP;AACH;;;6BAEI,K,EAAO;AAAA,gBACA,WADA,GACgB,IADhB,CACA,WADA;;AAER,gBAAI,eAAe,YAAY,IAA/B,EAAqC;AACjC,4BAAY,IAAZ,CAAiB,KAAjB;AACH,aAFD,MAEO;AACH,sFAAW,KAAX;AACH;AACJ;;;8BAEK,G,EAAK;AAAA,gBACC,WADD,GACiB,IADjB,CACC,WADD;;AAEP,gBAAI,eAAe,YAAY,KAA/B,EAAsC;AAClC,qBAAK,WAAL,CAAiB,KAAjB,CAAuB,GAAvB;AACH,aAFD,MAEO;AACH,uFAAY,GAAZ;AACH;AACJ;;;mCAEU;AAAA,gBACC,WADD,GACiB,IADjB,CACC,WADD;;AAEP,gBAAI,eAAe,YAAY,QAA/B,EAAyC;AACrC,qBAAK,WAAL,CAAiB,QAAjB;AACH,aAFD,MAEO;AACH;AACH;AACJ;;;sCAEa;AACV,iBAAK,MAAL,GAAc,IAAd;AACA,iBAAK,SAAL,GAAiB,IAAjB;AACA,iBAAK,SAAL,GAAiB,IAAjB;AACA,iBAAK,WAAL,GAAmB,IAAnB;AACA,iBAAK,cAAL,GAAsB,IAAtB;AACH;;;mCAEU,U,EAAY;AAAA,gBACX,MADW,GACA,IADA,CACX,MADW;;AAEnB,mBAAO,SACH,OAAO,SAAP,CAAiB,UAAjB,CADG,+EAEc,UAFd,CAAP;AAGH;;;+BAEuB;AAAA,gBAAnB,SAAmB,yDAAP,KAAO;;AACpB,mBAAO,KAAK,EAAL,CAAQ,UAAC,CAAD;AAAA,uBAAO,CAAC,SAAD,GAClB,EAAE,eAAF,EADkB,GAElB,EAAE,wBAAF,EAFW;AAAA,aAAR,CAAP;AAIH;;;yCAEgB;AACb,mBAAO,KAAK,EAAL,CAAQ,UAAC,CAAD;AAAA,uBAAO,EAAE,cAAF,EAAP;AAAA,aAAR,CAAP;AACH","file":"Event.js","sourcesContent":["import { Subject } from 'rxjs';\n\nexport class Event extends Subject {\n\n    constructor(destination, source) {\n        super();\n        this.source = source;\n        this.destination = destination;\n    }\n\n    lift(operator) {\n        const event = new Event(this.destination || this, this);\n        event.operator = operator;\n        return event;\n    }\n\n    next(value) {\n        const { destination } = this;\n        if (destination && destination.next) {\n            destination.next(value);\n        } else {\n            super.next(value);\n        }\n    }\n\n    error(err) {\n        const { destination } = this;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        } else {\n            super.error(err);\n        }\n    }\n\n    complete() {\n        const { destination } = this;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        } else {\n            super.complete();\n        }\n    }\n\n    unsubscribe() {\n        this.source = null;\n        this.observers = null;\n        this.isStopped = true;\n        this.destination = null;\n        this.isUnsubscribed = true;\n    }\n\n    _subscribe(subscriber) {\n        const { source } = this;\n        return source ?\n            source.subscribe(subscriber) :\n            super._subscribe(subscriber) ;\n    }\n\n    stop(immediate = false) {\n        return this.do((x) => !immediate ?\n            x.stopPropagation() :\n            x.stopImmediatePropagation()\n        );\n    }\n\n    preventDefault() {\n        return this.do((x) => x.preventDefault());\n    }\n}\n"]}